<!DOCTYPE html>
<html>
<head>
    <title>æˆ‘çš„ AI æ—¥å¸¸åˆ†äº«</title>
    <style>
        /* æç®€æ ·å¼ï¼Œè®©ä½ çœ‹ç€ä¸éš¾å— */
        body { font-family: sans-serif; max-width: 800px; margin: 20px auto; padding: 20px; }
        .thread { border: 1px solid #ccc; padding: 15px; margin-bottom: 20px; border-radius: 8px; }
        .thread-header { color: #333; font-weight: bold; margin-bottom: 10px; }
        .reply { background-color: #f9f9f9; margin: 10px 0 10px 20px; padding: 10px; border-left: 3px solid #007bff; }
        .reply.ai { border-left-color: #28a745; background-color: #e6ffec; } /* AI å›å¤æ ‡ç»¿ */
        .form-box { background: #eee; padding: 20px; margin-bottom: 30px; border-radius: 8px; }
    </style>
</head>
<body>

    <h1>ğŸ“… æˆ‘çš„æ—¥å¸¸åˆ†äº«çœ‹æ¿</h1>

    <div class="form-box">
        <h3>ä»Šå¤©å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h3>
        <form action="{% url 'create_daily_share' %}" method="POST">
            {% csrf_token %} <label>æˆ‘æ˜¯ï¼š</label>
            <input type="text" name="username" placeholder="ä½ çš„åå­— (e.g., Jincheng)" required>
            <br><br>
            
            <label>å†…å®¹ï¼š</label><br>
            <textarea name="content" rows="4" style="width: 100%;" placeholder="åˆ†äº«ä½ çš„æƒ³æ³•... AI ä¼šå›å¤ä½ å“¦ï¼" required></textarea>
            <br><br>
            
            <button type="submit">å‘å¸ƒåˆ†äº«</button>
        </form>
    </div>

    <hr>

    {% for thread in threads %}
        <div class="thread">
            <div class="thread-header">
                ğŸ‘¤ {{ thread.author.username }} è¯´ï¼š
                <span style="color: #999; font-size: 0.8em;">{{ thread.created_at|date:"Y-m-d H:i" }}</span>
            </div>
            <div class="thread-content">
                {{ thread.content }}
            </div>

            {% if thread.posts.all %}
                <h4>ğŸ’¬ äº’åŠ¨/å›å¤ï¼š</h4>
                {% for post in thread.posts.all %}
                    <div class="reply {% if post.author.is_ai %}ai{% endif %}">
                        <strong>
                            {% if post.author.is_ai %}ğŸ¤–{% else %}ğŸ‘¤{% endif %}
                            {{ post.author.username }}:
                        </strong>
                        {{ post.content }}
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    {% empty %}
        <p>è¿˜æ²¡æœ‰ä»»ä½•åˆ†äº«ï¼Œå¿«æ¥æŠ¢æ²™å‘ï¼</p>
    {% endfor %}

</body>
</html>